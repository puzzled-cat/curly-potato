/* ---------- Base & Typography ---------- */
:root {
  /* scales with viewport while staying readable */
  --fs-base: clamp(14px, 1.6vw, 18px);
  --fs-sm: clamp(12px, 1.2vw, 16px);
  --fs-lg: clamp(16px, 2.2vw, 22px);

  /* spacings scale a bit with screen size */
  --space-1: clamp(6px, 0.9vw, 10px);
  --space-2: clamp(10px, 1.3vw, 16px);
  --space-3: clamp(14px, 1.6vw, 20px);
  --radius: 16px;

  /* toolbar height via padding */
  --toolbar-pad-y: clamp(8px, 1.3vh, 14px);
  --toolbar-pad-x: clamp(10px, 2vw, 16px);

  /* switch sizing */
  --switch-w: clamp(50px, 9vw, 56px);
  --switch-h: clamp(26px, 5vw, 30px);
  --knob: calc(var(--switch-h) - 6px);
}

html {
  font-size: var(--fs-base);
}

body {
  margin: 0;
  background: #0f1115;
  color: #e6e6e6;
  font-family: 'Roboto Mono', Arial, sans-serif;
}

/* ---------- Toolbar ---------- */
.toolbar {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--toolbar-pad-y) var(--toolbar-pad-x);
  background: #161a22;
  font-size: var(--fs-lg);
  border-bottom: 1px solid #232838;
  margin-bottom: var(--space-3);
  min-height: clamp(40px, 6.5vh, 64px);
}

#statusText {
  font-size: var(--fs-sm);
  color: #bbb;
  margin-top: 4px;
}

.icons-left,
.icons-right {
  position: absolute;
  display: flex;
  gap: 8px;
  top: 50%;
  transform: translateY(-50%);
}

.icons-left {
  left: var(--toolbar-pad-x);
}

.icons-right {
  right: var(--toolbar-pad-x);
}

.icon {
  font-size: clamp(18px, 2.6vw, 24px);
  line-height: 1;
}

/* Stack toolbar content on very narrow screens */
@media (max-width: 420px) {
  .toolbar {
    justify-content: flex-start;
  }

  .icons-left {
    position: static;
    transform: none;
    margin-right: var(--space-2);
  }

  .icons-right {
    right: var(--toolbar-pad-x);
  }
}

/* ---------- Layout / Cards ---------- */
.container {
  max-width: min(92vw, 820px);
  margin: var(--space-2) auto;
  padding: 0 var(--space-2);
  display: grid;
  gap: var(--space-2);
  grid-template-columns: repeat(auto-fit, minmax(min(260px, 100%), 1fr));
}

.card {
  background: #161a22;
  border: 1px solid #232838;
  border-radius: var(--radius);
  padding: clamp(12px, 2.2vw, 16px);
  box-shadow: 0 4px 18px rgba(0, 0, 0, .25);
}

/* Tabs row aligns with container */
.tabs {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-1);
  max-width: min(92vw, 820px);
  margin: var(--space-1) auto 0;
  padding: 0 var(--space-2);
}

.tab {
  background: #121722;
  color: #e6e6e6;
  border: 1px solid #232838;
  border-radius: 10px;
  padding: clamp(8px, 1.6vw, 10px);
  cursor: pointer;
  font-size: .95rem;
}

.tab[aria-selected="true"] {
  outline: 2px solid #2a6af3;
}

.panel {
  display: none;
}

.panel.active {
  display: block;
}

/* ---------- Feed card specifics ---------- */
#catFeedCard h2 {
  padding: 0;
  margin: 0;
  text-align: center;
  font-size: var(--fs-lg);
}

.feed-grid {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-2) 0 0 0;
}

.feed-row {
  display: grid;
  grid-template-columns: 1fr auto auto auto;
  /* time | switch | status */
  align-items: center;
  gap: var(--space-1);
}

.cat-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid #232838;
  box-shadow: 0 2px 6px rgba(0, 0, 0, .25);
}

/* Optional: shrink/hide on very small screens */
@media (max-width: 380px) {
  .cat-avatar {
    width: 34px;
    height: 34px;
  }
}

@media (max-width: 330px) {
  .cat-avatar {
    display: none;
  }
}

.feed-time {
  font-size: 1.1rem;
}

.feed-status {
  min-width: 70px;
  text-align: left;
  font-size: 0.95rem;
  color: #bbb;
  margin-left: 8px;
}

.feed-status.fed {
  color: #35d07f;
  font-weight: 600;
}

.feed-status.not-fed {
  color: #b23a3a;
  font-weight: 600;
}

/* On very small screens, stack status under time */
@media (max-width: 360px) {
  .feed-row {
    grid-template-columns: 1fr auto;
    grid-template-areas:
      "time switch"
      "status status";
  }

  .feed-time {
    grid-area: time;
  }

  .switch {
    grid-area: switch;
    justify-self: end;
  }

  .feed-status {
    grid-area: status;
    margin-left: 0;
  }
}

/* ---------- Toggle switch (responsive) ---------- */
.switch {
  position: relative;
  display: inline-block;
  width: var(--switch-w);
  height: var(--switch-h);
}

.switch input {
  display: none;
}

.slider-toggle {
  position: absolute;
  inset: 0;
  background: #444a5f;
  border-radius: 999px;
  transition: 0.2s;
  box-shadow: inset 0 0 0 1px #2a3044;
}

.slider-toggle:before {
  content: "";
  position: absolute;
  width: var(--knob);
  height: var(--knob);
  left: 3px;
  top: 3px;
  background: #e6e6e6;
  border-radius: 50%;
  transition: 0.2s;
}

.switch input:checked+.slider-toggle {
  background: #2a6af3;
}

.switch input:checked+.slider-toggle:before {
  transform: translateX(calc(var(--switch-w) - var(--knob) - 6px));
}

/* ---------- Motion preferences ---------- */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

.wx-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  margin-top: 8px;
  text-align: center;
}

.wx-label {
  color: #a8b0c0;
  font-size: .9rem;
}

.wx-value {
  font-size: 1.1rem;
  font-weight: 600;
}

.muted {
  opacity: .7;
}

.wx-next {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-top: 6px;
  text-align: center;
}

.list-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}

#listSelect {
  flex: 1;
  background: #121722;
  color: #e6e6e6;
  border: 1px solid #232838;
  border-radius: 8px;
  padding: 4px 8px;
  font-size: 0.9rem;
}

.list-add {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.list-add input {
  flex: 1;
  background: #121722;
  border: 1px solid #232838;
  border-radius: 8px;
  color: #e6e6e6;
  padding: 6px 8px;
}

.list-items {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.list-items li {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 8px;
  background: #121722;
  border: 1px solid #232838;
  border-radius: 10px;
  padding: 8px;
}

.list-items li.done {
  opacity: 0.6;
  text-decoration: line-through;
}

.list-items li button {
  background: none;
  border: none;
  color: #b23a3a;
  cursor: pointer;
  font-size: 1.1rem;
}


.wx-day {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  text-align: center;
  gap: 10px;
  padding: 8px 10px;
  background: #121722;
  border: 1px solid #232838;
  border-radius: 10px;
}

.wx-day .wx-when {
  width: 56px;
  color: #a8b0c0;
}

.wx-day .wx-ico {
  font-size: 1.1rem;
}

.wx-ico {
  padding-right: 10px;
}

.wx-day .wx-minmax {
  font-weight: 600;
}

.wx-day .wx-rain {
  color: #a8b0c0;
  font-size: .95rem;
}